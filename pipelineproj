pipeline {
    agent any 

    parameters {
        string(name: 'NAME', description: 'Please tell me your name?')
        choice(name: 'MONTH', choices: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'], description: 'Choose the month')
        choice(name: 'DAY', choices: ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', '14', '15', '16', '17', '18', '19', '20', '21', '22', '23', '24', '25', '26', '27', '28', '29', '30', '31'], description: 'Choose the day accordingly to the month')
    }
    
    stages {

        stage('Set Goals for the Month') {
            steps {
                script {
                    def booleanGoals = []

                    switch(params.MONTH) {
                        case 'January':
                            booleanGoals = [
                                booleanParam(name: "BUY_DIARY", description: "Have you bought your diary?"),
                                booleanParam(name: "WRITE_FEELINGS", description: "Have you written about your feelings of the past year?"),
                                booleanParam(name: "WRITE_DAILY", description: "Have you written about your daily experiences?")
                            ]
                            break

                        case 'February':
                            booleanGoals = [
                                booleanParam(name: "CHANGE_FURNITURE", description: "Have you changed the furniture arrangement?"),
                                booleanParam(name: "ADD_PLANTS", description: "Have you bought or disposed some/new plants?"),
                                booleanParam(name: "FLEXIBLE_DESK", description: "Have you bought a new sit-stand desk?")
                            ]
                            break

                        case 'March':
                            booleanGoals = [
                                booleanParam(name: "EXERCISE", description: "Are you exercising more?"),
                                booleanParam(name: "EAT_BETTER", description: "Are you eating better (local, healthy, less meat)?"),
                                booleanParam(name: "ME_TIME", description: "Have you made more time for yourself?")
                            ]
                            break

                        default:
                            echo "No specific goals for this month."
                    }

                    input message: "Goals for ${params.MONTH}. Select what you have completed:", parameters: booleanGoals
                }
            }
        }

        stage('Check Goals for the Day') {
            steps {
                script {
                    int day = params.DAY as int
                    
                    switch(params.MONTH) {
                        case 'January':
                            if (params.BUY_DIARY?.toBoolean()) {
                                echo "Congratulations! You bought your diary and you're off to a great start!"
                            } else if (day < 10) {
                                echo "You still have time to buy your diary. Don't wait!"
                            } else {
                                echo "The month is advancing. Get your diary soon to start meeting your goals!"
                            }

                            if (params.WRITE_FEELINGS?.toBoolean()) {
                                echo "Great job reflecting on your feelings. This is important for your mental health!"
                            } else {
                                echo "Take some time to write about your feelings. It's a great way to clear your mind."
                            }

                            if (params.WRITE_DAILY?.toBoolean()) {
                                echo "You're keeping up with daily journaling. Keep it up!"
                            } else {
                                echo "Remember to jot down your daily experiences. Consistency is key!"
                            }
                            break

                        case 'February':
                            if (params.CHANGE_FURNITURE?.toBoolean()) {
                                echo "Your furniture arrangement is updated. Nice job creating a fresh space!"
                            } else {
                                echo "Think about changing your furniture. Small changes make a big difference!"
                            }

                            if (params.ADD_PLANTS?.toBoolean()) {
                                echo "Your new plants are bringing life to your home. Keep nurturing them!"
                            } else {
                                echo "Consider adding plants to your home for a touch of nature."
                            }

                            if (params.FLEXIBLE_DESK?.toBoolean()) {
                                echo "Your new desk is a game changer. Enjoy the flexibility!"
                            } else {
                                echo "A sit-stand desk could make your workspace more ergonomic and fun."
                            }
                            break

                        default:
                            echo "No detailed checks for this month."
                    }
                }
            }
        }

        stage('Save Progress') {
            steps {
                script {
                    echo "Saving progress for ${params.MONTH} on day ${params.DAY}..."
                    // Here, progress can be saved to a file, a database, or logged for future use.
                }
            }
        }

        stage('Notify Completion') {
            steps {
                script {
                    echo "Thank you, ${params.NAME}! Your progress for ${params.MONTH} has been recorded."
                }
            }
        }
    }
}
